# Архитектура приложения

app1/
├── app/ - ядро
├── main/ - все что нельзя вынести в какое-то приложение
├── goods/ - товары
├── users/ - пользователи
├── carts/ - корзины пользователей
├── orders/ - заказы пользователей
└── manage.py 

# Создание 1 приложения main

В терминале выполняем:

`python manage.py startapp main `

Регистрируем приложение в файле settings.py:

```py
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',

    'main',
]
```

## Обзор файлов приложения main

* migrations - папка, которая содержит миграции БД
* init.py - пустой файл, который говорит нам о том, что директори является Python-пакетом
* admin.py - нужен чтобы мы зарегестрировали наши таблицы в админ-панели и настроили их отображение в админ-панели для обслуживающего персонала
* apps.py - настройка и конфигурация конкретного приложения
* models.py - здесь создаются специальные классы для описания всех таблиц и их атрибутов, которые будут в нх храниться
* tests.py - для написания автоматизированных тестов
* views.py - функции или классы для обработки запросов от пользователей

## Паттерн MVT (model, view, template)

Как работает веб-приложение на django?

1. запрос приходит от пользователя (например он запросил страницу по адресу: https://www.aerostar/catalog/?page=2) к серверу
2. сервер направляет этот запрос в блок маршрутизации джанго. Джанго отбрасывает домен и отправляет "хвост" в urls.py
3. как только находится совпадение в ссылках, то джанго вызывает функцию из views.py
4. функция views запрашивает данные из БД (если это нужно) с помощью классов из models.py
5. далее информация из БД и пустой шаблон html функция, которая называется контролер или представление возвращает ответ польхователю (готовую html страницу)